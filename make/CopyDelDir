###############################################################################
#                                                                             #
#                                 G A M M A                                   #
#                Makefile For The GAMMA MR Simulation Platform                #
#                      Copyright © 2002 Scott A. Smith                        #
#                  National High Magnetic Field Laboratory                    #
#                         1800 E. Paul Dirac Drive                            #
#                     Tallahassee, FL, USA 32307-4005                         #
#                          ssmith@magnet.fsu.edu                              #
#                      On WWW See gamma.magnet.fsu.edu                        #
#                                                                             #
# The concern of this Makefile, CopyDelDir, is making file copies for the     #
# various GAMMA distributions. These targets handle ONLY files present in or  #
# stemming below the current directory, CURDIR, none others. The premise of   #
# the targets is quite simple, they copy files listed in variable DISTFILES   #
# assumed existing in this directory, CURDIR, to the directory specified in   #
# variable DISTDIR.  Another get will delete the directory DISTDIR, all of    #
# its files, and all of its subdirectories.                                   #
#                                                                             #
# Normally these targets are run from amidst distribtion targets contained    #
# either in the module Makefile or in the main GAMMA Makefile.                #
#                                                                             #
# These targets will ALWAYS be run before any GAMMA distributions are done.   #
#                                                                             #
# Users are free to copy this file for personal use but may NOT give out      #
# modifications with or without the GAMMA platform.                           #
#                                                                             #
# Supplied Targets                                                            #
# ================                                                            #
#                                                                             #
#   copyall:    Copy all files in DISTFILES in CURDIR to directory DISTDIR    #
#   deleteall:  Delete all files in DISTDIR (files, sub-directories)          #
#   showcopy:   Show how copying is to be performed (but take no action)      #
#                                                                             #
# Requirements   							      #
# ============                                                                #
# CURDIR:        Directory containing files to be copied.                     #
# DISTFILES:     Files in this directory to copy.                             #
# DISTDIR:       Directory name where copies will be put (full path)          #
# TARDIR:        Directory name where copiew will be put (local)              #
# force:         Required target for use of this makefile                     #
#                                                                             #
# Note: The Directory DISTDIR MUST EXIST prior to calling target copyall.     #
#       The task of producing this directory is usually done by whatever      #
#       target is producing a GAMMA distribution.                             #
#                                                                             #
###############################################################################

copyall: force
	@echo " * Copying Files To Temporary Location"
	@echo "   From: $(CURDIR)"
	@echo "   To:   $(DISTDIR)"
	@for i in $(DISTFILES); do \
	  echo  "   File: $$i"; \
	done
	@cp $(DISTFILES) $(DISTDIR)
	@echo " * Finished Copying Specified Files"

deleteall: force
	@echo " * Deleting All Files In Temporary Location"
	@echo "   Directory:   $(DISTDIR)"
	@rm -rf $(DISTDIR)
	@if (test -d $(TARDIR)) \
	then \
          echo " * Removing directory ${TARDIR}"; \
          rm -rf ${TARDIR}; \
	fi
	@echo " * Finished Deleting Temporaries"

showcopy: force
	@echo "	Copy From Directory (CURDIR):                  ${CURDIR}"
	@echo "	Copy To Directory (DISTDIR):                   ${DISTDIR}"
	@echo "	Files To Be Copied (DISTFILES):"
	@for i in $(DISTFILES); do \
          echo "                                                       $$i"; \
	done

showcopyall: force
	@echo " * Copying Of Distributed Source Files Is Done As Follows"
	@echo "   From Dir: $(CURDIR)"
	@echo "   To Dir:   $(DISTDIR)"
	@for i in $(DISTFILES); do \
	  echo  "   File: $$i"; \
	done
	@echo " * We Would Now Be Finished With Copying Specified Files"

